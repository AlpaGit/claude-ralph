Ralph Desktop Orchestrator - Progress Tracker
===============================================

p1-02: Implement DB migration system            [DONE]
  - MigrationRunner class (src/main/runtime/migrations/migration-runner.ts)
  - Creates schema_migrations table to track applied migrations
  - Scans numbered .sql files from disk, sorts by numeric prefix
  - Applies unapplied migrations in order within transactions
  - 001_initial.sql (resources/migrations/001_initial.sql)
  - Current schema with IF NOT EXISTS guards for existing DBs
  - AppDatabase constructor updated to accept migrationsDir param
  - Replaces inline CREATE TABLE with MigrationRunner.run()
  - index.ts updated to resolve migrationsDir (dev vs packaged)

p1-03: Extract theme tokens into tokens.css       [DONE]
  - Created src/renderer/tokens.css with all CSS custom properties
  - Fonts: --font-sans (Space Grotesk), --font-mono (IBM Plex Mono)
  - Colors: core palette, gradients, surfaces, borders, wizard, thinking, status, feedback, log
  - Border radius: --radius-sm (8px) through --radius-circle (999px)
  - Box shadows: --shadow-hero, --shadow-panel
  - Transitions: --transition-fast (100ms ease-in-out)
  - Spacing: --space-xs through --space-xl
  - Layout: --max-width-app, --opacity-disabled
  - Updated src/renderer/styles.css to @import ./tokens.css
  - Replaced all hardcoded hex colors, font-family, border-radius, shadows with var() refs
  - Removed :root block from styles.css (moved to tokens.css)
  - Build and typecheck pass

p1-08: Install and configure Zustand stores       [DONE]
  - Installed zustand@5 and immer@10 as production dependencies
  - src/renderer/stores/planStore.ts
    - State: currentPlan, plansList, loadingPlan, loadingList, creating, error
    - Actions: createPlan, loadPlan, loadPlanList, deletePlan, archivePlan, clearError
    - Wraps window.ralphApi.createPlan and getPlan; list/delete/archive are stubs pending backend IPC
  - src/renderer/stores/runStore.ts
    - State: activeRuns map, runLogs map, runTodos map, selectedRunId, recentEvents
    - Actions: startRun, cancelRun, appendLog, appendTodo, selectRun
    - Uses immer middleware for efficient nested map updates
    - initRunEventSubscription() exported for one-time setup from App.tsx
    - Internal _handleRunEvent dispatches started/log/todo_update/completed/failed/cancelled events
  - src/renderer/stores/discoveryStore.ts
    - State: interview, answers, events, loading, error
    - Actions: startDiscovery, continueDiscovery, reset
    - Subscribes to onDiscoveryEvent during startDiscovery; cleans up on reset
  - src/renderer/stores/settingsStore.ts
    - State: modelConfig map (planning/discovery/execution/wizard roles), loading, error
    - Actions: loadSettings, updateModelForRole
    - Defaults all roles to claude-opus-4-6; stubs pending backend settings IPC
  - Build and typecheck pass

p1-04: Create UButton component with CSS Module   [DONE]
  - src/renderer/components/ui/UButton.tsx
    - forwardRef component accepting all ButtonHTMLAttributes
    - Variants: primary, secondary, ghost, danger (default: primary)
    - Sizes: sm, md, lg (default: md)
    - Loading state: renders a CSS spinner, sets aria-busy, disables interaction
    - Disabled state: reduced opacity, not-allowed cursor
    - Exports UButtonProps, UButtonVariant, UButtonSize types
    - Uses simple cn() helper for conditional class composition (no clsx dep)
  - src/renderer/components/ui/UButton.module.css
    - Extracted .action-btn base + variant styles from styles.css into CSS Module
    - Brutalist style: 2px solid border, bold weight, Space Grotesk font
    - Hover translateY(-1px), active translateY(0) micro-interaction
    - focus-visible outline (2px solid accent, 2px offset) for accessibility
    - Size presets with appropriate padding and font-size
    - Loading spinner via CSS animation (border-based spinner)
    - All values reference tokens.css custom properties
  - Build and typecheck pass

p1-05: Create UCard, UStatusPill, UInput, UTextArea components  [DONE]
  - src/renderer/components/UCard/UCard.tsx
    - Bordered panel container with optional title, subtitle, headerAction, footer slots
    - Uses consistent padding/margin via tokens.css spacing variables
    - Accepts children as body content, className for composition
  - src/renderer/components/UCard/UCard.module.css
    - Extracted .panel / .panel-header patterns from styles.css into CSS Module
    - Flex column layout with gap, dashed border footer separator
  - src/renderer/components/UStatusPill/UStatusPill.tsx
    - Colored badge for plan/task/run status values with automatic color mapping
    - STATUS_COLOR_MAP: pending=#6b7280, in_progress=#d97706, completed=#15803d,
      failed=#b91c1c, cancelled=#6b7280, draft=#6b7280, ready=#156f67,
      running=#d97706, queued=#6b7280
    - Optional colored dot indicator, label override, className
    - Uses CSS custom properties (--pill-color, --pill-bg) for dynamic styling
  - src/renderer/components/UStatusPill/UStatusPill.module.css
    - Extracted .status-pill / .status-* patterns from styles.css into CSS Module
    - Pill border radius, mono font, uppercase text transform
  - src/renderer/components/UInput/UInput.tsx
    - Text input with label, error state, helper text
    - Extends InputHTMLAttributes for full native input API passthrough
    - Auto-generates id via useId, wires label/aria-describedby/aria-invalid
  - src/renderer/components/UInput/UInput.module.css
    - Extracted .text-input / .label patterns from styles.css into CSS Module
    - Focus state with accent-2 border, disabled opacity, error border color
  - src/renderer/components/UTextArea/UTextArea.tsx
    - Multi-line textarea with label, error state, char count, and auto-resize
    - Extends TextareaHTMLAttributes for full native textarea API passthrough
    - Auto-resize via ref + scrollHeight measurement on change and value update
    - Live character counter with over-limit warning when maxLength is set
  - src/renderer/components/UTextArea/UTextArea.module.css
    - Extracted .text-area / .label patterns from styles.css into CSS Module
    - Footer row with justified error/helper text and char count
    - Auto-resize class disables manual resize and hides overflow
  - src/renderer/components/ui.ts -- barrel export for all four UI primitives
  - Build and typecheck pass
